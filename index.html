<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Load Text File</title>
</head>
<body>
    <section id="miSeccion">
        <!-- Aquí se creará el div -->
    </section>

    <a href="nota.txt" id="enlaceCargar">Cargar Texto</a>

    <script>

document.addEventListener('DOMContentLoaded', function () {
    // Verificar si el elemento con id 'miSeccion' existe
    var seccionExistente = document.getElementById('miSeccion');

    // Crear el elemento 'div' si no existe
    if (!seccionExistente) {
        var nuevaSeccion = document.createElement('section');
        nuevaSeccion.id = 'miSeccion';
        document.body.appendChild(nuevaSeccion);
    }

    // Obtener referencia al enlace
    var enlaceCargar = document.getElementById('enlaceCargar');

    // Agregar un listener al evento de clic en el enlace
    enlaceCargar.addEventListener('click', function (event) {
        // Prevenir el comportamiento predeterminado del enlace
        event.preventDefault();

        // Obtener la ruta del archivo de texto desde el atributo 'href' del enlace
        var rutaArchivo = enlaceCargar.getAttribute('href');

        // Llamar a la función para cargar el texto
        cargarTexto(rutaArchivo);
    });

    function cargarTexto(rutaArchivo) {
    // Crear una nueva instancia de XMLHttpRequest
    var xhr = new XMLHttpRequest();

    // Configurar la solicitud
    xhr.open('GET', rutaArchivo, true);

    // Configurar la función de devolución de llamada
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4 && xhr.status === 200) {
            // Éxito: el contenido del archivo de texto se carga correctamente
            var contenidoTexto = xhr.responseText;

            // Dividir el contenido en líneas
            var lineas = contenidoTexto.split('\n');

            // Crear un nuevo elemento 'div'
            var nuevoDiv = document.createElement('div');

            // Crear elementos <p> para cada línea y agregarlos al div
            lineas.forEach(function (linea) {
                var parrafo = document.createElement('p');
                parrafo.textContent = linea;
                nuevoDiv.appendChild(parrafo);
            });

            // Obtener la referencia a la sección
            var miSeccion = document.getElementById('miSeccion');

            // Agregar el nuevo div a la sección
            miSeccion.appendChild(nuevoDiv);
        }
    };

    // Enviar la solicitud
    xhr.send();
}


    </script>
</body>
</html>

